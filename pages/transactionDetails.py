import requests
import google.generativeai as genai

genai.configure(api_key="")

# Set up the model
generation_config = {
  "temperature": 1,
  "top_p": 0.95,
  "top_k": 0,
  "max_output_tokens": 8192,
}

safety_settings = [
  {
    "category": "HARM_CATEGORY_HARASSMENT",
    "threshold": "BLOCK_MEDIUM_AND_ABOVE"
  },
  {
    "category": "HARM_CATEGORY_HATE_SPEECH",
    "threshold": "BLOCK_MEDIUM_AND_ABOVE"
  },
  {
    "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
    "threshold": "BLOCK_MEDIUM_AND_ABOVE"
  },
  {
    "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
    "threshold": "BLOCK_ONLY_HIGH"
  },
]

system_instruction = "You will be provided with a dictionary with values related to crypto transaction details... you have to summarize it... if it's not in this format(dictionary) reply \"The input is not in the format\" alone... don't respond to any other questions. Also convert all hexadecimal values into decimal values"

model = genai.GenerativeModel(model_name="gemini-1.5-pro-latest",
                              generation_config=generation_config,
                              system_instruction=system_instruction,
                              safety_settings=safety_settings)

convo = model.start_chat(history=[
  {
    "role": "user",
    "parts": ["{'blockNumber': '16348785', 'timeStamp': '1673020691', 'hash': '0x34c5656e88b3dcfd85c4a19459047aa1a795ca3aab5a5e6410969a30c593b258', 'nonce': '15', 'blockHash': '0xa519fd355a1100966a658546e52279fc60cee4e1aa91ccdab34239102ffc0de6', 'transactionIndex': '113', 'from': '0x1f9090aae28b8a3dceadf281b0f12828e676c326', 'to': '0x388c818ca8b9251b393131c08a736a67ccb19297', 'value': '28717216119666311', 'gas': '22111', 'gasPrice': '15541064616', 'isError': '0', 'txreceipt_status': '1', 'input': '0x', 'contractAddress': '', 'cumulativeGasUsed': '10569969', 'gasUsed': '22111', 'confirmations': '3353985', 'methodId': '0x', 'functionName': ''}]"]
  },
  {
    "role": "model",
    "parts": ["### Transaction Summary:\n\n* **Block Number:** 16348785 (This indicates the block in the blockchain where this transaction was recorded)\n* **Timestamp:** 1673020691 (This is the Unix timestamp of when the transaction occurred)\n* **From:** 0x1f9090aae28b8a3dceadf281b0f12828e676c326 (The address of the sender)\n* **To:** 0x388c818ca8b9251b393131c08a736a67ccb19297 (The address of the recipient) \n* **Value:** 28717216119666311 (The amount transferred in the transaction)\n* **Gas Used:** 22111 (The amount of gas consumed by the transaction)\n* **Gas Price:** 15541064616 (The price of gas per unit for this transaction) \n* **Confirmations:** 3353985 (The number of blocks confirmed since the transaction was mined)"]
  },
  {
    "role": "user",
    "parts": ["0x83e2BE8d114F9661221384B3a50d24B96a5653F5 [{'blockNumber': '5857657', 'timeStamp': '1530019175', 'hash': '0x4d397299470f071f37159e6502a4007f159d1c5019fe4328e0d025fb5b5aeec4', 'nonce': '0', 'blockHash': '0xaaf8f64722ecf6f1d05099e35d8f5774b5bd67ecd177a587c3c2cda30c4f7500', 'transactionIndex': '213', 'from': '0x9cb3b30e995f968e044c0bf48c70559a53b86cfb', 'to': '', 'value': '0', 'gas': '1015724', 'gasPrice': '3300000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x608060405234801561001057600080fd5b5060068054600160a060020a031916331790556040805180820190915260158082527f3078636572742050726f746f636f6c20546f6b656e000000000000000000000060209092019182526100679160009161013f565b506040805180820190915260038082527f5a5843000000000000000000000000000000000000000000000000000000000060209092019182526100ac9160019161013f565b506002805460ff191660121790556b019d971e4fe8401e7400000060038190556007805460a060020a60ff021916905560068054600160a060020a039081166000908152600460209081526040808320869055935484519586529351939092169390927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929181900390910190a36101da565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061018057805160ff19168380011785556101ad565b828001600101855582156101ad579182015b828111156101ad578251825591602001919060010190610192565b506101b99291506101bd565b5090565b6101d791905b808211156101b957600081556001016101c3565b90565b610be1806101e96000396000f3006080604052600436106100f05763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde0381146100f5578063095ea7b31461017f57806318160ddd146101b75780631f35bc40146101de57806323b872dd14610201578063313ce5671461022b57806331d2f8911461025657806342966c68146102875780634e71e0c81461029f57806370a08231146102b45780638da5cb5b146102d557806395d89b41146102ea578063a9059cbb146102ff578063dd62ed3e14610323578063e30c39781461034a578063f1b50c1d1461035f578063f2fde38b14610374575b600080fd5b34801561010157600080fd5b5061010a610395565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561014457818101518382015260200161012c565b50505050905090810190601f1680156101715780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561018b57600080fd5b506101a3600160a060020a036004351660243561042b565b604080519115158252519081900360200190f35b3480156101c357600080fd5b506101cc6104cd565b60408051918252519081900360200190f35b3480156101ea57600080fd5b506101ff600160a060020a03600435166104d3565b005b34801561020d57600080fd5b506101a3600160a060020a0360043581169060243516604435610519565b34801561023757600080fd5b506102406105b5565b6040805160ff9092168252519081900360200190f35b34801561026257600080fd5b5061026b6105be565b60408051600160a060020a039092168252519081900360200190f35b34801561029357600080fd5b506101ff6004356105cd565b3480156102ab57600080fd5b506101ff6106e5565b3480156102c057600080fd5b506101cc600160a060020a036004351661076d565b3480156102e157600080fd5b5061026b610788565b3480156102f657600080fd5b5061010a610797565b34801561030b57600080fd5b506101a3600160a060020a03600435166024356107f7565b34801561032f57600080fd5b506101cc600160a060020a0360043581169060243516610891565b34801561035657600080fd5b5061026b6108bc565b34801561036b57600080fd5b506101ff6108cb565b34801561038057600080fd5b506101ff600160a060020a0360043516610919565b60008054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104215780601f106103f657610100808354040283529160200191610421565b820191906000526020600020905b81548152906001019060200180831161040457829003601f168201915b5050505050905090565b600081158061045b5750336000908152600560209081526040808320600160a060020a0387168452909152902054155b151561046657600080fd5b336000818152600560209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60035490565b600654600160a060020a031633146104ea57600080fd5b6008805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60075460009074010000000000000000000000000000000000000000900460ff168061054f5750600854600160a060020a031633145b151561055a57600080fd5b82600160a060020a038116151561057057600080fd5b600160a060020a03811630141561058657600080fd5b600854600160a060020a03828116911614156105a157600080fd5b6105ac85858561095f565b95945050505050565b60025460ff1690565b600854600160a060020a031681565b600654600160a060020a031633146105e457600080fd5b3360009081526004602052604090205481111561060057600080fd5b600654600160a060020a031660009081526004602052604090205461062b908263ffffffff610ac116565b600654600160a060020a0316600090815260046020526040902055600354610659908263ffffffff610ac116565b600355600654604080518381529051600160a060020a03909216917fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca59181900360200190a2600654604080518381529051600092600160a060020a0316917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef919081900360200190a350565b600754600090600160a060020a031633146106ff57600080fd5b50600680546007805473ffffffffffffffffffffffffffffffffffffffff19808416600160a060020a038381169190911795869055911690915560405191811692169082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a350565b600160a060020a031660009081526004602052604090205490565b600654600160a060020a031681565b60018054604080516020601f600260001961010087891615020190951694909404938401819004810282018101909252828152606093909290918301828280156104215780601f106103f657610100808354040283529160200191610421565b60075460009074010000000000000000000000000000000000000000900460ff168061082d5750600854600160a060020a031633145b151561083857600080fd5b82600160a060020a038116151561084e57600080fd5b600160a060020a03811630141561086457600080fd5b600854600160a060020a038281169116141561087f57600080fd5b6108898484610ad3565b949350505050565b600160a060020a03918216600090815260056020908152604080832093909416825291909152205490565b600754600160a060020a031681565b600654600160a060020a031633146108e257600080fd5b6007805474ff0000000000000000000000000000000000000000191674010000000000000000000000000000000000000000179055565b600654600160a060020a0316331461093057600080fd5b6007805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a03831660009081526004602052604081205482111561098457600080fd5b600160a060020a03841660009081526005602090815260408083203384529091529020548211156109b457600080fd5b600160a060020a0384166000908152600460205260409020546109dd908363ffffffff610ac116565b600160a060020a038086166000908152600460205260408082209390935590851681522054610a12908363ffffffff610b9f16565b600160a060020a038085166000908152600460209081526040808320949094559187168152600582528281203382529091522054610a56908363ffffffff610ac116565b600160a060020a03808616600081815260056020908152604080832033845282529182902094909455805186815290519287169391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929181900390910190a35060019392505050565b600082821115610acd57fe5b50900390565b33600090815260046020526040812054821115610aef57600080fd5b33600090815260046020526040902054610b0f908363ffffffff610ac116565b3360009081526004602052604080822092909255600160a060020a03851681522054610b41908363ffffffff610b9f16565b600160a060020a0384166000818152600460209081526040918290209390935580518581529051919233927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a350600192915050565b600082820183811015610bae57fe5b93925050505600a165627a7a7230582036d05124dd6101a74018a2c04541adcf48d7b1bbfb9d7da91a9a7934b59ad7d80029', 'contractAddress': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'cumulativeGasUsed': '7249802', 'gasUsed': '1015724', 'confirmations': '13845123', 'methodId': '0x60806040', 'functionName': 'atInversebrah(int248 a, uint48[] b, uint32 c, bytes20[] d, bytes30[] e)'}, {'blockNumber': '5865541', 'timeStamp': '1530135990', 'hash': '0x3ddc5cc600e8c0a911f34a6d3795312ccac27fb7c6e9de0a8c7107d476e53898', 'nonce': '1', 'blockHash': '0xb1ba02f037851ecf3b88535ff6361d3d65ad497a4ad359a5fd410bb8ad462f96', 'transactionIndex': '49', 'from': '0x9cb3b30e995f968e044c0bf48c70559a53b86cfb', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '43854', 'gasPrice': '5000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0xf2fde38b000000000000000000000000c1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'contractAddress': '', 'cumulativeGasUsed': '3834380', 'gasUsed': '43854', 'confirmations': '13837239', 'methodId': '0xf2fde38b', 'functionName': 'transferOwnership(address newOwner)'}, {'blockNumber': '5865559', 'timeStamp': '1530136212', 'hash': '0x2e9ef4403942c3ae1723875095d62037b6815631362c0a62d93733303eeead3e', 'nonce': '4', 'blockHash': '0xa30e4a3011e5ee07abcf487cb8c47be73cc3f5d9bcaa349029fff4d4f2e0e3b7', 'transactionIndex': '7', 'from': '0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '33968', 'gasPrice': '40000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x4e71e0c8', 'contractAddress': '', 'cumulativeGasUsed': '297837', 'gasUsed': '18968', 'confirmations': '13837221', 'methodId': '0x4e71e0c8', 'functionName': 'claimOwnership()'}, {'blockNumber': '5865568', 'timeStamp': '1530136326', 'hash': '0x2f587957e28425ffefb0885eb6e816271bd6f7bb0b96496a35a35e2ec7008909', 'nonce': '5', 'blockHash': '0x17319f4ec221ce5e4993a5a326c7fb5756e020926a21c19f4653e78a0703f31a', 'transactionIndex': '5', 'from': '0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '43568', 'gasPrice': '40000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x1f35bc400000000000000000000000009cb3b30e995f968e044c0bf48c70559a53b86cfb', 'contractAddress': '', 'cumulativeGasUsed': '275268', 'gasUsed': '43568', 'confirmations': '13837212', 'methodId': '0x1f35bc40', 'functionName': 'setCrowdsaleAddress(address _crowdsale)'}, {'blockNumber': '5865580', 'timeStamp': '1530136513', 'hash': '0x0cbf14eaa1f974f573a87107d47984e5fe83746f2ba89b1c611716af56de7d88', 'nonce': '2', 'blockHash': '0x0dede1422ae849e0e6667b55fd45779dbac5316547eb0c2593a322a7a821a45d', 'transactionIndex': '13', 'from': '0x9cb3b30e995f968e044c0bf48c70559a53b86cfb', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '53156', 'gasPrice': '5000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0xa9059cbb000000000000000000000000c1678c7d5f4d01d30ad72bc5848bb7dfb248b5b90000000000000000000000000000000000000000019d971e4fe8401e74000000', 'contractAddress': '', 'cumulativeGasUsed': '513713', 'gasUsed': '38156', 'confirmations': '13837200', 'methodId': '0xa9059cbb', 'functionName': 'transfer(address _to, uint256 _value)'}, {'blockNumber': '5865679', 'timeStamp': '1530138124', 'hash': '0xede5b718893d9c165a9ea6b817500004d1aafda7e7902f6ca403892b6733870c', 'nonce': '6', 'blockHash': '0xd105283ca0a5a411356ff3ba1e774d0a3ee0cdf6d4e709ccf950e1f9cac38562', 'transactionIndex': '142', 'from': '0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '28568', 'gasPrice': '40000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x1f35bc4000000000000000000000000004986b3ea83b0f5d628e216f77f03cb691f5c3dd', 'contractAddress': '', 'cumulativeGasUsed': '7144798', 'gasUsed': '28568', 'confirmations': '13837101', 'methodId': '0x1f35bc40', 'functionName': 'setCrowdsaleAddress(address _crowdsale)'}, {'blockNumber': '5865695', 'timeStamp': '1530138308', 'hash': '0xa2bdfdebac8ec12f2b46604c727a5b69658c8b113b4b14b8df0dc0c0b356143d', 'nonce': '7', 'blockHash': '0xdc31d42963e7758239e8ed5d1fa1025fb79872eb91d1ed87ebba1b87a88dcb7c', 'transactionIndex': '6', 'from': '0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '46146', 'gasPrice': '40000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x095ea7b300000000000000000000000004986b3ea83b0f5d628e216f77f03cb691f5c3dd0000000000000000000000000000000000000000005f20327de60ebf53000000', 'contractAddress': '', 'cumulativeGasUsed': '234229', 'gasUsed': '46146', 'confirmations': '13837085', 'methodId': '0x095ea7b3', 'functionName': 'approve(address _spender, uint256 _value)'}, {'blockNumber': '5893098', 'timeStamp': '1530544368', 'hash': '0x97f7f44dda13884319f239c27f029ffe1f33e1bb0ffce8953efefa02ad2d5c02', 'nonce': '2', 'blockHash': '0xa94e90a7347a01dbbab989873cebdc804365bede0760746b08ca4fab3a9fec3d', 'transactionIndex': '7', 'from': '0xca160c1462fd8e28dd2d7e935f9c6205f959e70c', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '187200', 'gasPrice': '225000000000', 'isError': '1', 'txreceipt_status': '0', 'input': '0xa9059cbb000000000000000000000000ef8ad98bf43063ebe669576b08e1a05519e302f70000000000000000000000000000000000000000000000000006aec270d29000', 'contractAddress': '', 'cumulativeGasUsed': '3069097', 'gasUsed': '24217', 'confirmations': '13809682', 'methodId': '0xa9059cbb', 'functionName': 'transfer(address _to, uint256 _value)'}, {'blockNumber': '5893116', 'timeStamp': '1530544645', 'hash': '0x674009642138c68ba5b7500f9d94afe0a1788286201fdbd348d7f15eef035887', 'nonce': '9', 'blockHash': '0x7194c8c9ff1069bccf6316247dbc65959257eb36c5f5d0893f64d3793be87db4', 'transactionIndex': '0', 'from': '0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '30211', 'gasPrice': '500000000000', 'isError': '0', 'txreceipt_status': '1', 'input': '0x095ea7b300000000000000000000000004986b3ea83b0f5d628e216f77f03cb691f5c3dd0000000000000000000000000000000000000000000000000000000000000000', 'contractAddress': '', 'cumulativeGasUsed': '15211', 'gasUsed': '15211', 'confirmations': '13809664', 'methodId': '0x095ea7b3', 'functionName': 'approve(address _spender, uint256 _value)'}, {'blockNumber': '5898947', 'timeStamp': '1530630922', 'hash': '0xb162b17a3c2a64577fc0e266282a9963a0b853d215075029acb532a3700dec3a', 'nonce': '1', 'blockHash': '0x28ea388acccbbd7965bfdcd80028c91d3829ff07b4aeb9714d68bb33f3b4836f', 'transactionIndex': '94', 'from': '0x2e7b3a029e6db510a5069aee66455edfa0826f27', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '60000', 'gasPrice': '72811945984', 'isError': '1', 'txreceipt_status': '0', 'input': '0xa9059cbb00000000000000000000000086621387e16e8a060e82daa7fb3ad73d73fa46e50000000000000000000000000000000000000000000000056bc75e2d63100000', 'contractAddress': '', 'cumulativeGasUsed': '7597003', 'gasUsed': '24281', 'confirmations': '13803833', 'methodId': '0xa9059cbb', 'functionName': 'transfer(address _to, uint256 _value)'}, {'blockNumber': '5903926', 'timeStamp': '1530704605', 'hash': '0x02abef16f947fd59ffa41df1d2d99c25c33188df54efb21514a9461422b8bdda', 'nonce': '11', 'blockHash': '0x6ae0ce49223a9e35b4ea816ff802dcfb01dc3f5b6033d199f8b6fd062e0117b7', 'transactionIndex': '109', 'from': '0x9e1925e3133ac3359f4123f7b27f04a62fa5fa77', 'to': '0x83e2be8d114f9661221384b3a50d24b96a5653f5', 'value': '0', 'gas': '50000', 'gasPrice': '40000000000', 'isError': '1', 'txreceipt_status': '0', 'input': '0xa9059cbb000000000000000000000000693baf7b357a5c1266be1a4bed67d0257171c2b10000000000000000000000000000000000000000000000008ac7230489e80000', 'contractAddress': '', 'cumulativeGasUsed': '7678751', 'gasUsed': '24217', 'confirmations': '13798854', 'methodId': '0xa9059cbb', 'functionName': 'transfer(address _to, uint256 _value)'},"]
  },
  {
    "role": "model",
    "parts": ["### Transaction Summary for address: 0x83e2BE8d114F9661221384B3a50d24B96a5653F5\n\nThis address seems to be a contract address based on the creation transaction and subsequent function calls. Here's a breakdown of some key transactions:\n\n**Contract Creation:**\n\n* **Block Number:** 5857657\n* **From:** 0x9cb3b30e995f968e044c0bf48c70559a53b86cfb (Deployer of the contract)\n* **Gas Used:** 1015724\n* **Input Data:** Contains the bytecode for the contract. \n\n**Ownership Transfer:**\n\n* **Block Number:** 5865541\n* **From:** 0x9cb3b30e995f968e044c0bf48c70559a53b86cfb\n* **To:** 0x83e2be8d114f9661221384b3a50d24b96a5653f5 \n* **Function:** transferOwnership(address newOwner) \n* **New Owner Address:** 0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9\n\n**Claiming Ownership:** \n\n* **Block Number:** 5865559\n* **From:** 0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9\n* **To:** 0x83e2be8d114f9661221384b3a50d24b96a5653f5 \n* **Function:** claimOwnership() \n\n**Setting Crowdsale Address:** \n\n* There are two transactions setting the crowdsale address, likely updating it. \n\n**Token Transfers:**\n\n* There are several transfer and approve function calls, indicating token movements. \n* Some of these transactions failed due to errors (isError: 1). \n\n**Additional Observations:**\n\n* The contract interacts with at least two other addresses: 0x9cb3b30e995f968e044c0bf48c70559a53b86cfb and 0xc1678c7d5f4d01d30ad72bc5848bb7dfb248b5b9.\n* The contract uses a significant amount of gas in some transactions, suggesting complex functions or operations. \n* The provided data includes a mix of successful and failed transactions."]
  },
  {
    "role": "user",
    "parts": ["{'blockHash': '0x9651a9371b5998903a42ac6efff5e24050bf639aee29d200cfe02482019f0396', 'blockNumber': '0x12ca67a', 'from': '0x4838b106fce9647bdf1e7877bf73ce8b0bad5f97', 'gas': '0x798e', 'gasPrice': '0x1e7b8377a', 'maxFeePerGas': '0x1e7b8377a', 'maxPriorityFeePerGas': '0x0', 'hash': '0x88e66caa180cb33fafeb4517df51c230319b589352f35e3a78cf4a5e213e9015', 'input': '0x', 'nonce': '0x44eef', 'to': '0x80928c05d1bdd78cc50f6af8dd8445ef6f36c7ba', 'transactionIndex': '0xb1', 'value': '0x248e5a0101a8ef', 'type': '0x2', 'accessList': [], 'chainId': '0x1', 'v': '0x0', 'r': '0xf14423b4ad3ed3b8783e02fc9c1a3842297e33758eec9fabe034921730648f60', 's': '0x5743d5e08769bf8b58a01ddf095dd155d82b49ecc76d375c73bf848b4520fcec', 'yParity': '0x0'}"]
  },
  {
    "role": "model",
    "parts": ["### Transaction Summary:\n\n* **Block Number:** 12ca67a (Represents the specific block on the Ethereum blockchain where this transaction was recorded.)\n* **From:** 0x4838b106fce9647bdf1e7877bf73ce8b0bad5f97 (The address initiating the transaction.)\n* **To:** 0x80928c05d1bdd78cc50f6af8dd8445ef6f36c7ba (The recipient address.)\n* **Value:** 0x248e5a0101a8ef (The amount of ETH being transferred, represented in hexadecimal format.) \n* **Gas Price:** 0x1e7b8377a (The price per unit of gas used in the transaction, in hexadecimal.) \n* **Gas Used:**  0x798e (The total amount of gas consumed by the transaction, in hexadecimal.) \n* **Nonce:** 0x44eef (A unique identifier for the transaction from this specific sender address.) \n* **Transaction Index:** 0xb1  (The position of this transaction within the block it was included in.)\n* **Type:** 0x2 (Indicates this is a simple ETH transfer and not a contract interaction.)\n* **Chain ID:** 0x1 (Identifies the Ethereum mainnet.) \n* **v, r, s:** These are components of the transaction signature, used for verification.\n* **yParity:**  0x0 (Part of the signature data.)"]
  },
])
# Replace 'YOUR_API_KEY' with your actual Etherscan API key
api_key = ''

def fetch_transaction_details(tx_hash, api_key):
    # Etherscan API endpoint for fetching transaction details
    url = f"https://api.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash={tx_hash}&apikey={api_key}"

    # Make a GET request to the API
    response = requests.get(url)

    # Check if the request was successful (status code 200)
    if response.status_code == 200:
        # Parse the JSON response
        transaction_data = response.json()

        # Check if the transaction was found
        if "result" in transaction_data:
            # Extract and return transaction details
            return transaction_data["result"]
        else:
            return "Transaction not found or API error"
    else:
        return "Error fetching transaction details"


def transaction_details(tx_hash):
    tx_hash=tx_hash.strip()
    transaction_detail = fetch_transaction_details(tx_hash, api_key)
    print(transaction_detail," ",tx_hash)
    convo.send_message(str(transaction_detail))
    return convo.last.text

# response=transaction_details("0x88e66caa180cb33fafeb4517df51c230319b589352f35e3a78cf4a5e213e9015")
# print(response)